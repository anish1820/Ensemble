{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/runner/workspace/src/context/AuthContext.js\",\n  _this = this;\nimport React, { createContext, useState, useEffect } from 'react';\nimport { getUserId, saveUserId, removeUserId } from '../utils/storage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var AuthContext = createContext();\nexport var AuthProvider = function AuthProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    userId = _useState2[0],\n    setUserId = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isLoading = _useState4[0],\n    setIsLoading = _useState4[1];\n  useEffect(function () {\n    var bootstrapAsync = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        try {\n          var storedUserId = yield getUserId();\n          if (storedUserId) {\n            setUserId(storedUserId);\n          }\n        } catch (error) {\n          console.error('Error loading user data:', error);\n        } finally {\n          setIsLoading(false);\n        }\n      });\n      return function bootstrapAsync() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    bootstrapAsync();\n  }, []);\n  var login = function () {\n    var _ref3 = _asyncToGenerator(function* (newUserId) {\n      try {\n        yield saveUserId(newUserId);\n        setUserId(newUserId);\n      } catch (error) {\n        console.error('Login error:', error);\n        throw error;\n      }\n    });\n    return function login(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var logout = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      try {\n        yield removeUserId();\n        setUserId(null);\n      } catch (error) {\n        console.error('Logout error:', error);\n        throw error;\n      }\n    });\n    return function logout() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var authContext = {\n    userId: userId,\n    isLoading: isLoading,\n    login: login,\n    logout: logout\n  };\n  return _jsxDEV(AuthContext.Provider, {\n    value: authContext,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, _this);\n};","map":{"version":3,"names":["React","createContext","useState","useEffect","getUserId","saveUserId","removeUserId","jsxDEV","_jsxDEV","AuthContext","AuthProvider","_ref","children","_useState","_useState2","_slicedToArray","userId","setUserId","_useState3","_useState4","isLoading","setIsLoading","bootstrapAsync","_ref2","_asyncToGenerator","storedUserId","error","console","apply","arguments","login","_ref3","newUserId","_x","logout","_ref4","authContext","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_this"],"sources":["/home/runner/workspace/src/context/AuthContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\nimport { getUserId, saveUserId, removeUserId } from '../utils/storage';\n\n// Create the Authentication Context\nexport const AuthContext = createContext();\n\nexport const AuthProvider = ({ children }) => {\n  const [userId, setUserId] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  // Check for stored user ID on app launch\n  useEffect(() => {\n    const bootstrapAsync = async () => {\n      try {\n        // Retrieve user ID from storage\n        const storedUserId = await getUserId();\n        \n        if (storedUserId) {\n          setUserId(storedUserId);\n        }\n      } catch (error) {\n        console.error('Error loading user data:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    bootstrapAsync();\n  }, []);\n\n  // Login function\n  const login = async (newUserId) => {\n    try {\n      // Save user ID to storage\n      await saveUserId(newUserId);\n      setUserId(newUserId);\n    } catch (error) {\n      console.error('Login error:', error);\n      throw error;\n    }\n  };\n\n  // Logout function\n  const logout = async () => {\n    try {\n      // Remove user ID from storage\n      await removeUserId();\n      setUserId(null);\n    } catch (error) {\n      console.error('Logout error:', error);\n      throw error;\n    }\n  };\n\n  // Context value\n  const authContext = {\n    userId,\n    isLoading,\n    login,\n    logout,\n  };\n\n  return (\n    <AuthContext.Provider value={authContext}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n"],"mappings":";;;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AACjE,SAASC,SAAS,EAAEC,UAAU,EAAEC,YAAY,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAGvE,OAAO,IAAMC,WAAW,GAAGR,aAAa,CAAC,CAAC;AAE1C,OAAO,IAAMS,YAAY,GAAG,SAAfA,YAAYA,CAAAC,IAAA,EAAqB;EAAA,IAAfC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;EACrC,IAAAC,SAAA,GAA4BX,QAAQ,CAAC,IAAI,CAAC;IAAAY,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAnCG,MAAM,GAAAF,UAAA;IAAEG,SAAS,GAAAH,UAAA;EACxB,IAAAI,UAAA,GAAkChB,QAAQ,CAAC,IAAI,CAAC;IAAAiB,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAzCE,SAAS,GAAAD,UAAA;IAAEE,YAAY,GAAAF,UAAA;EAG9BhB,SAAS,CAAC,YAAM;IACd,IAAMmB,cAAc;MAAA,IAAAC,KAAA,GAAAC,iBAAA,CAAG,aAAY;QACjC,IAAI;UAEF,IAAMC,YAAY,SAASrB,SAAS,CAAC,CAAC;UAEtC,IAAIqB,YAAY,EAAE;YAChBR,SAAS,CAACQ,YAAY,CAAC;UACzB;QACF,CAAC,CAAC,OAAOC,KAAK,EAAE;UACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;QAClD,CAAC,SAAS;UACRL,YAAY,CAAC,KAAK,CAAC;QACrB;MACF,CAAC;MAAA,gBAbKC,cAAcA,CAAA;QAAA,OAAAC,KAAA,CAAAK,KAAA,OAAAC,SAAA;MAAA;IAAA,GAanB;IAEDP,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,EAAE,CAAC;EAGN,IAAMQ,KAAK;IAAA,IAAAC,KAAA,GAAAP,iBAAA,CAAG,WAAOQ,SAAS,EAAK;MACjC,IAAI;QAEF,MAAM3B,UAAU,CAAC2B,SAAS,CAAC;QAC3Bf,SAAS,CAACe,SAAS,CAAC;MACtB,CAAC,CAAC,OAAON,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,cAAc,EAAEA,KAAK,CAAC;QACpC,MAAMA,KAAK;MACb;IACF,CAAC;IAAA,gBATKI,KAAKA,CAAAG,EAAA;MAAA,OAAAF,KAAA,CAAAH,KAAA,OAAAC,SAAA;IAAA;EAAA,GASV;EAGD,IAAMK,MAAM;IAAA,IAAAC,KAAA,GAAAX,iBAAA,CAAG,aAAY;MACzB,IAAI;QAEF,MAAMlB,YAAY,CAAC,CAAC;QACpBW,SAAS,CAAC,IAAI,CAAC;MACjB,CAAC,CAAC,OAAOS,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;QACrC,MAAMA,KAAK;MACb;IACF,CAAC;IAAA,gBATKQ,MAAMA,CAAA;MAAA,OAAAC,KAAA,CAAAP,KAAA,OAAAC,SAAA;IAAA;EAAA,GASX;EAGD,IAAMO,WAAW,GAAG;IAClBpB,MAAM,EAANA,MAAM;IACNI,SAAS,EAATA,SAAS;IACTU,KAAK,EAALA,KAAK;IACLI,MAAM,EAANA;EACF,CAAC;EAED,OACE1B,OAAA,CAACC,WAAW,CAAC4B,QAAQ;IAACC,KAAK,EAAEF,WAAY;IAAAxB,QAAA,EACtCA;EAAQ;IAAA2B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,GAAAC,KACW,CAAC;AAE3B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}